# Проскомидия - iOS приложение

iOS приложение для сайта проскомидия.ру, позволяющее подавать записки и заказывать требы в монастырь онлайн.

## Особенности

- **WKWebView интеграция**: Полная функциональность сайта в нативном iOS приложении
- **Офлайн режим**: Работает без интернета благодаря встроенному HTML
- **Гибридная загрузка**: Сначала пытается загрузить локальный контент, затем из интернета
- **Навигация**: Кнопки "Назад", "Вперед", "Главная", "Обновить"
- **Прогресс-бар**: Показывает процесс загрузки страницы
- **Адаптивный дизайн**: Оптимизировано для iPhone и iPad
- **Русская локализация**: Полная поддержка русского языка
- **Безопасность**: Настроена поддержка HTTPS и безопасных соединений

## Требования

- iOS 15.0 или выше
- Xcode 15.0 или выше (для разработки)
- Интернет-соединение (опционально - приложение работает офлайн)

## Установка

### Для разработчиков

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd proskomidiyaa-ios
```

2. Откройте `Proskomidiya.xcodeproj` в Xcode

3. **ВАЖНО: Добавьте index.html в проект**
   - См. подробную инструкцию в `QUICK_START.md`
   - Файл находится в `Proskomidiya/Proskomidiya/Resources/index.html`
   - Нужно добавить его через Xcode в Target Membership

4. Выберите устройство или симулятор

5. Нажмите ⌘+R для запуска приложения

### Для пользователей

1. Скачайте приложение из App Store
2. Установите и запустите

## Сборка релизной версии

1. Откройте проект в Xcode
2. Выберите "Any iOS Device" в качестве цели
3. Перейдите в Product → Archive
4. В окне Organizer выберите "Distribute App"
5. Следуйте инструкциям для загрузки в App Store Connect

## Публикация в App Store

1. Создайте аккаунт разработчика Apple
2. Настройте App Store Connect
3. Создайте подписанный архив
4. Загрузите в App Store Connect
5. Заполните информацию о приложении
6. Отправьте на модерацию

## Структура проекта

```
Proskomidiya/
├── Proskomidiya/
│   ├── AppDelegate.swift              # Основной делегат приложения
│   ├── SceneDelegate.swift            # Делегат сцены
│   ├── WebViewController.swift        # Основной контроллер с WebView
│   ├── Resources/
│   │   └── index.html                # Локальный HTML для офлайн режима
│   ├── Main.storyboard               # Основной интерфейс
│   ├── LaunchScreen.storyboard       # Экран запуска
│   ├── Info.plist                    # Конфигурация приложения
│   └── Assets.xcassets/              # Ресурсы (иконки, цвета)
│       ├── AppIcon.appiconset/       # Иконки приложения
│       └── AccentColor.colorset/     # Акцентный цвет
└── Proskomidiya.xcodeproj/           # Файл проекта Xcode
    └── project.pbxproj               # Конфигурация проекта
```

## Конфигурация

Основные настройки можно изменить в следующих файлах:

- `Info.plist` - URL сайта, разрешения, ориентация экрана
- `WebViewController.swift` - логика WebView, навигация, офлайн режим
- `Resources/index.html` - локальный HTML контент для офлайн работы
- `Assets.xcassets` - иконки и цвета приложения

### Офлайн режим

Приложение поддерживает работу без интернета:
- Локальный HTML файл встроен в Bundle приложения
- При запуске сначала пытается загрузить локальный контент
- Если локальный файл не найден, загружает из интернета
- Все функции форм работают офлайн

## Технические детали

### WebView настройки
- WKWebView с поддержкой JavaScript
- Настроена поддержка HTTPS
- Обработка внешних ссылок
- Поддержка жестов навигации

### Безопасность
- Настроена поддержка App Transport Security
- Разрешены подключения к proskomidiya.ru
- Поддержка HTTP для совместимости

### Интерфейс
- Адаптивный дизайн для iPhone и iPad
- Нативная навигация iOS
- Поддержка темной темы
- Локализация на русском языке

## Лицензия

Все права защищены. Приложение создано для монастыря Спаса Нерукотворного пустынь.

## Поддержка

Для получения поддержки обращайтесь к администрации монастыря.



